name: Spell Check

on:
  workflow_call:
    inputs:
      locale:
        description: 'Language locale for spell checking'
        required: false
        type: string
        default: 'en'

jobs:
  typos-check:
    name: Spell Check with Typos
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Actions Repository
        uses: actions/checkout@v4
      - name: Create typos config
        run: |
          cat > _typos.toml << EOF
          [default]
          locale = "${{ inputs.locale }}"
          
          [files]
          extend-exclude = [
            "*.json",
            "*.toml",
          ]
          EOF
      - name: Check spelling
        uses: crate-ci/typos@v1.18.0